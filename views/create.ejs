<%- include('./header.ejs'); %>
<%- include('nav') %>
    <style>
        .listh{
            font-size: 1.4rem;
            color: rgb(7, 7, 80);
        }
        .button{
            background-color:rgb(7, 7, 80); 
            font-size: 1.2rem;
            color: aliceblue;
            border-radius: 50px;
            padding: 0.8vw 1.5vw;
            font-weight: 600;
        }
        .button:hover{
            background-color:#FF5E00; 
        }
        .listcon{
            border: 2px solid rgb(204, 202, 202);
        }
        .checkbox-label {
        margin-right: 20px;
    }
        @media (max-width: 800px) {
          .listcon{
            width: 100%;
          }
        }
        @media (max-width: 480px) {
          .listcon{
            width: 100%;
          }
        }
    </style>
<body> 
<main>
    <form class="" action="/createhisaab" method="post">
    <div class="hisaabs col-md-5 px-6  mt-2 mb-3">
        <label for="exampleFormControlInput1" class="listh form-label">Create new Expense</label>
        <input name="title" type="input" class="form-control" id="exampleFormControlInput1" placeholder="Title of your Expense">
      </div>
      <div class=" col-md-10 mt-3 px-6 mb-3">
        <label for="exampleFormControlTextarea1" class="listh form-label ">Shopping List Here!</label>
        <textarea name="content" class="listcon block w-1/2 px-3 py-2 resize-none min-h-64 rounded-md  " id="exampleFormControlTextarea1" rows="3" placeholder="Example: 1 perfume 100$ "></textarea>
    </div>
    <div class="mb-3 px-6">
        <input type="checkbox" id="encrypted" name="encrypted" value="true" onclick="togglePasscode()">
        <label for="encrypted" class="checkbox-label">Encrypt this file</label>
        <div id="passcode-div" style="display: none;">
            <label for="passcode">Passcode:</label>
            <input type="password" id="passcode" name="passcode" class="form-control w-1/2">
        </div>
        <div class="mt-3">
            <input type="checkbox" id="shareable" name="shareable" value="true">
            <label for="shareable" class="checkbox-label">Make this expense shareable</label>
        </div>
        <input type="submit" class=" button  block mt-3 ">
    </div>
</form>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script>
    function togglePasscode() {
        var checkbox = document.getElementById('encrypted');
        var passcodeDiv = document.getElementById('passcode-div');
        passcodeDiv.style.display = checkbox.checked ? 'block' : 'none';
    }

    function validateForm() {
        var title = document.getElementById('title').value.trim();
        var content = document.getElementById('content').value.trim();
        var encrypted = document.getElementById('encrypted').checked;
        var passcode = document.getElementById('passcode').value.trim();

        if (!title || !content) {
            alert('Both title and content are required.');
            return false;
        }

        if (encrypted && !passcode) {
            alert('A passcode is required for encrypted files.');
            return false;
        }

        return true;
    }
</script>
    </body>
    <%- include('footer') %>
    </html>
